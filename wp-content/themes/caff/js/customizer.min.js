jQuery(document).ready(function(a){"use strict";function r(t,e){e='<div class="repeater" style="display:none"><input type="text" value="'+e+'" class="repeater-input" placeholder="https://" /><span class="dashicons dashicons-sort"></span><a class="customize-control-sortable-repeater-delete" href="#"><span class="dashicons dashicons-no-alt"></span></a></div>';t.find(".sortable").append(e),t.find(".sortable").find(".repeater:last").slideDown("slow",function(){a(this).find("input").focus()})}function i(t){var e=t.find(".repeater-input").map(function(){return a(this).val()}).toArray();t.find(".customize-control-sortable-repeater").val(e),t.find(".customize-control-sortable-repeater").trigger("change")}a(".sortable_repeater_control").each(function(){var t=a(this).find(".customize-control-sortable-repeater").val().split(","),e=t.length;if(0<e&&(a(this).find(".repeater-input").val(t[0]),1<e))for(var i=1;i<e;++i)r(a(this),t[i])}),a(this).find(".sortable_repeater.sortable").sortable({update:function(t,e){i(a(this).parent())}}),a(".sortable_repeater.sortable").on("click",".customize-control-sortable-repeater-delete",function(t){t.preventDefault(),1<a(this).parent().parent().find(".repeater").length?a(this).parent().slideUp("fast",function(){var t=a(this).parent().parent();a(this).remove(),i(t)}):(a(this).parent().find(".repeater-input").val(""),i(a(this).parent().parent().parent()))}),a(".customize-control-sortable-repeater-add").on("click",function(t){t.preventDefault(),r(a(this).parent(),""),i(a(this).parent())}),a(".sortable_repeater.sortable").change(function(){i(a(this).parent())}),a(".sortable_repeater.sortable").on("blur",".repeater-input",function(){var t=a(this),e=t.val();e&&!e.match(/^.+:\/\/.*/)&&t.val("https://"+e).trigger("change")}),a(".slider-custom-control").each(function(){var t=a(this).find(".customize-control-slider-value").val(),e=a(this).find(".slider"),i=parseFloat(e.attr("slider-min-value")),r=parseFloat(e.attr("slider-max-value")),n=parseFloat(e.attr("slider-step-value"));e.slider({value:t,min:i,max:r,step:n,change:function(t,e){a(this).parent().find(".customize-control-slider-value").trigger("change")}})}),a(".slider").on("slide",function(t,e){a(this).parent().find(".customize-control-slider-value").val(e.value)}),a(".slider-reset").on("click",function(){var t=a(this).attr("slider-reset-value");a(this).parent().find(".customize-control-slider-value").val(t),a(this).parent().find(".slider").slider("value",t)}),a(".customize-control-slider-value").blur(function(){var t=a(this).val(),e=a(this).parent().find(".slider"),i=parseInt(e.attr("slider-min-value")),e=parseInt(e.attr("slider-max-value"));t<i&&(t=i,a(this).val(t)),e<t&&(t=e,a(this).val(t)),a(this).parent().find(".slider").slider("value",t)}),a(".multi-image-checkbox").on("change",function(){var t,e;t=a(this).parent().parent(),e=t.find(".multi-image-checkbox").map(function(){if(a(this).is(":checked"))return a(this).val()}).toArray(),t.find(".customize-control-multi-image-checkbox").val(e).trigger("change")}),a(".customize-control-select2").select2({allowClear:!0}),a(".customize-control-select2").on("change",function(){var t=a(this).val();a(this).parent().find(".customize-control-dropdown-select2").val(t).trigger("change")}),a(".customize-control-tinymce-editor").each(function(){var t=_wpCustomizeSettings.controls[a(this).attr("id")].cafftinymcetoolbar1,e=_wpCustomizeSettings.controls[a(this).attr("id")].cafftinymcetoolbar2,i=_wpCustomizeSettings.controls[a(this).attr("id")].caffmediabuttons;wp.editor.initialize(a(this).attr("id"),{tinymce:{wpautop:!0,toolbar1:t,toolbar2:e},quicktags:!0,mediaButtons:i})}),a(document).on("tinymce-editor-init",function(t,e){e.on("change",function(t){tinyMCE.triggerSave(),a("#"+e.id).trigger("change")})})}),function(t){t.sectionConstructor["caff-upsell"]=t.Section.extend({attachEvents:function(){},isContextuallyActive:function(){return!0}})}((jQuery,wp.customize));